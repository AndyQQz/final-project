<!-- this should be final, it is if i dont update again-->
<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Andy's Virtual Kitty Playground</title>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
<style>
  body { background:#FFF8F0; font-family:'Comic Sans MS',cursive; color:#2d3436; margin:0; }
  .hero { background:linear-gradient(135deg,#a8edea,#fed6e3); padding:100px 20px; text-align:center; }
  .big-title { font-size:4.5rem; font-weight:bold; }
  .subtitle { font-size:2rem; }

  .card-btn { background:white; border-radius:25px; height:300px; box-shadow:0 12px 25px rgba(0,0,0,0.15);
              display:flex; flex-direction:column; justify-content:center; cursor:pointer; transition:0.3s; }
  .card-btn:hover { transform:translateY(-15px); }

  #main { display:none; padding:90px 20px; min-height:100vh; background:#FFF8F0; }
  .back-top { position:fixed; bottom:30px; right:30px; display:none; background:#fd79a8; color:white;
              width:170px; border-radius:50px; font-size:1.5rem; }
  .cat-img { border-radius:20px; box-shadow:0 8px 20px rgba(0,0,0,0.2); width:100%; }
  .pfp { width:50px; height:50px; object-fit:cover; border-radius:50%; border:4px solid #ffeaa7; margin-right:15px; }
  .list-group-item { background:#f9e4b7; padding:15px; border-radius:12px; margin-bottom:10px; }
</style>
</head>
<body>

<!-- MAIN MENU – 3 big buttons -->
<div class="hero text-center">
  <h1 class="big-title">Andy's Virtual Kitty Playground</h1>
  <p class="subtitle">Explore the fun big three features using cat data from CATAAS !!!</p>

  <div class="container mt-5">
    <div class="row g-5 justify-content-center">
      <div class="col-md-4"><div class="card-btn" onclick="openFeature('loaders')">
        <div class="display-5 text-primary">Cat Loaders</div><p>Three ways to see cats</p>
      </div></div>
      <div class="col-md-4"><div class="card-btn" onclick="openFeature('order')">
        <div class="display-5 text-success">Order Digital Cat</div><p>Fake shopping fun</p>
      </div></div>
      <div class="col-md-4"><div class="card-btn" onclick="openFeature('account')">
        <div class="display-5 text-warning">Cat Account</div><p>Sign up & log in</p>
      </div></div>
    </div>
  </div>
</div>

<!-- ALL FEATURES SHOW HERE (so page stays short) -->
<div id="main"></div>

<button class="btn back-top" onclick="window.scrollTo({top:0,behavior:'smooth'})">Back to Top</button>

<script>
// extra notes: This whole project has 3 main features that use the CATAAS API 
// and localStorage to remember accounts/orders. No event listeners on buttons 
// (only onclick for simplicity),everything works!

function openFeature(f) {
  const m = document.getElementById('main');
  m.style.display = 'block';
  m.scrollIntoView({behavior:'smooth'}); // smooth scroll down when clicking big buttons

  // FEATURE 1 – Cat Loaders (3 different API calls)
  if (f==='loaders') {
    m.innerHTML = `
      <div class="container text-center">
        <h2 class="display-4 text-primary mb-5">Cat Loaders</h2>
        <button onclick="loadRandom()" class="btn btn-outline-primary btn-lg m-3 px-5">Random Cats</button>
        <button onclick="loadCute()" class="btn btn-outline-success btn-lg m-3 px-5">Cute Cats</button>
        <button onclick="loadMessages()" class="btn btn-outline-warning btn-lg m-3 px-5">Talking Cats</button>
        <div class="row row-cols-2 row-cols-md-3 g-4 mt-5" id="cat-display"></div>
      </div>`;
  }

  // FEATURE 2 – Order a Digital Cat (needs login)
  else if (f==='order') {
    const user = JSON.parse(localStorage.getItem('loggedIn') || 'null');
    m.innerHTML = `
      <div class="container">
        <h2 class="text-success text-center mb-4 mb-4">Order a Digital Cat</h2>
        <div class="alert alert-warning text-center">Use fake info only — just for fun!</div>
        ${user ? '' : '<p class="text-danger text-center fs-3">Log in first → go to Account</p>'}
        <form onsubmit="placeOrder(event)" class="col-lg-6 mx-auto">
          <select id="cat-choice" class="form-select form-select-lg mb-3">
            <option>Random</option><option>Cute</option><option>Talking</option>
          </select>
          <input type="text" id="fake-credit" placeholder="Fake card number" class="form-control form-control-lg mb-3" required>
          <input type="text" id="fake-address" placeholder="Fake address" class="form-control form-control-lg mb-4" required>
          <button type="submit" class="btn btn-success btn-lg w-100">Place Order</button>
        </form>
        <h4 class="mt-5 text-center">All Orders</h4>
        <div id="orders-list" class="list-group"></div>
      </div>`;
    showOrders();
  }

  // FEATURE 3 – Account system with username + profile picture
  else if (f==='account') {
    m.innerHTML = `
      <div class="container">
        <h2 class="text-warning text-center mb-5">Cat Account</h2>
        <div class="row g-5">
          <div class="col-md-6">
            <h4>Sign Up</h4>
            <form onsubmit="signUp(event)">
              <input type="text" id="username" placeholder="Username (must be unique)" class="form-control form-control-lg mb-3" required>
              <input type="email" id="email" placeholder="email@cat.com" class="form-control form-control-lg mb-3" required>
              <input type="password" id="password" placeholder="password" class="form-control form-control-lg mb-3" required>
              <p class="mb-2">Choose your profile picture:</p>
              <select id="pfp" class="form-select mb-4">
                <option value="https://cataas.com/cat/says/Meow!?size=100&color=white">Meow!</option>
                <option value="https://cataas.com/cat/says/Purrfect?size=100&color=white">Purrfect</option>
                <option value="https://cataas.com/cat/says/Love You?size=100&color=white">Love You</option>
              </select>
              <button type="submit" class="btn btn-primary btn-lg w-100">Sign Up</button>
            </form>
          </div>
          <div class="col-md-6">
            <h4>Log In</h4>
            <form onsubmit="login(event)">
              <input type="text" id="login-email" placeholder="email" class="form-control form-control-lg mb-3" required>
              <input type="password" id="login-password" placeholder="password" class="form-control form-control-lg mb-3" required>
              <button type="submit" class="btn btn-success btn-lg w-100">Log In</button>
            </form>
          </div>
        </div>
        <h4 class="mt-5 text-center">All Accounts (click to log in)</h4>
        <div id="accounts-list" class="list-group"></div>
      </div>`;
    showAccounts();
  }
}

// CAT LOADERS (uses real API)
function loadRandom() { loadCats(''); }
function loadCute()   { loadCats('cute'); }
function loadMessages() {
  const msgs = ['Meow!','Purrfect','Love You','Hello Human'];
  let html = '';
  msgs.forEach(t => html += `<div class="col"><img src="https://cataas.com/cat/says/${encodeURIComponent(t)}?size=80&color=white" class="cat-img"></div>`);
  document.getElementById('cat-display').innerHTML = html;
}
function loadCats(tag) {
  const url = tag ? `https://cataas.com/api/cats?tags=${tag}&limit=9` : 'https://cataas.com/api/cats?limit=9';
  fetch(url).then(r=>r.json()).then(d=>{
    let html = '';
    d.forEach(c=> html += `<div class="col"><img src="https://cataas.com/cat/${c.id}" class="cat-img"></div>`);
    document.getElementById('cat-display').innerHTML = html;
  });
}

// ORDERS – shows profile picture + username
function placeOrder(e) {
  e.preventDefault();
  const user = JSON.parse(localStorage.getItem('loggedIn'));
  if (!user) return alert('Log in first!');

  const orders = JSON.parse(localStorage.getItem('orders')||'[]');
  orders.push({
    username: user.username,
    pfp: user.pfp,
    type: document.getElementById('cat-choice').value,
    card: document.getElementById('fake-credit').value.slice(-4),
    address: document.getElementById('fake-address').value
  });
  localStorage.setItem('orders', JSON.stringify(orders));
  alert('Order placed!');
  showOrders();
}
function showOrders() {
  const list = document.getElementById('orders-list');
  if (!list) return;
  const orders = JSON.parse(localStorage.getItem('orders')||'[]');
  list.innerHTML = orders.map(o => `
    <div class="list-group-item d-flex align-items-center">
      <img src="${o.pfp}" class="pfp">
      <div>
        <strong>${o.username}</strong> ordered a <strong>${o.type}</strong> cat<br>
        <small>Card ends ${o.card} • ${o.address}</small>
      </div>
    </div>`).join('');
}

// ACCOUNTS – username + pfp + click to log in
function signUp(e) {
  e.preventDefault();
  const username = document.getElementById('username').value.trim();
  const email = document.getElementById('email').value.trim();
  const pwd = document.getElementById('password').value;
  const pfp = document.getElementById('pfp').value;

  if (!username || !email.includes('@')) return alert('Fill everything!');

  let accounts = JSON.parse(localStorage.getItem('accounts')||'[]');
  if (accounts.find(a => a.username === username || a.email === email)) return alert('Username or email taken');

  accounts.push({username, email, pwd, pfp});
  localStorage.setItem('accounts', JSON.stringify(accounts));
  alert('Signed up! Now log in');
  showAccounts();
}

function login(e) {
  e.preventDefault();
  const email = document.getElementById('login-email').value;
  const pwd = document.getElementById('login-password').value;
  const accounts = JSON.parse(localStorage.getItem('accounts')||'[]');
  const user = accounts.find(a => a.email === email && a.pwd === pwd);
  if (user) {
    localStorage.setItem('loggedIn', JSON.stringify(user));
    alert('Welcome back, ' + user.username + '!');
    showOrders();
  } else alert('Wrong email or password');
}

function showAccounts() {
  const list = document.getElementById('accounts-list');
  if (!list) return;
  const accounts = JSON.parse(localStorage.getItem('accounts')||'[]');
  list.innerHTML = accounts.map(a => `
    <div class="list-group-item d-flex align-items-center" style="cursor:pointer" onclick='localStorage.setItem("loggedIn",JSON.stringify(${JSON.stringify(a)}));alert("Logged in as ${a.username}!");showOrders()'>
      <img src="${a.pfp}" class="pfp">
      <div>
        <strong>${a.username}</strong><br>
        <small>${a.email}</small>
      </div>
    </div>`).join('');
}

// Back-to-top button
window.onscroll = () => document.querySelector('.back-top').style.display = window.scrollY > 300 ? 'block' : 'none';
</script>
</body>
</html>
